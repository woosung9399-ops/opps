<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<title>ì˜¤ëŠ˜ì˜ ìš´ì„¸ğŸ”®</title>
<meta name="theme-color" content="#FFE18A"/>

<!-- ì£¼ì†Œì°½ ì•„ì´ì½˜: ì£¼í™©ìƒ‰ ì›í˜• -->
<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
  <circle cx='50' cy='50' r='45' fill='%23ff9800'/>
</svg>">

<style>
  @font-face{
    font-family:'DungGeunMo';
    src:url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/DungGeunMo.woff2') format('woff2');
    font-weight:normal; font-style:normal; font-display:swap;
  }
  :root{
    --grid:#f8d875; --bg:#ffe18a; --ink:#5a3b1a; --accent:#ff8a42; --accent-deep:#ea6a1b;
    --card:#fffaf0; --muted:#8b6d4e;
  }
  *{box-sizing:border-box}
  html,body{margin:0; height:100%; font-family:'DungGeunMo', Pretendard, system-ui, -apple-system, sans-serif;}
  body{
    color:var(--ink);
    background:
      repeating-linear-gradient(0deg, var(--bg), var(--bg) 48px, var(--grid) 48px, var(--grid) 50px),
      var(--bg);
    display:flex; flex-direction:column; min-height:100dvh;
  }
  /* í—¤ë”/í‘¸í„° */
  .site-header{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;gap:12px;background:#fff;padding:10px 14px;border-bottom:1px solid #e5e7eb}
  .site-header .logo{cursor:pointer}
  .site-header .logo img{height:28px;max-width:140px;object-fit:contain}
  .site-header h1{margin:0;flex:1;text-align:center;font-size:1.05rem;color:#111}
  .site-header .today{font-size:.9rem;color:#444}
  footer{position:fixed;left:0;right:0;bottom:0;text-align:center;padding:10px 0;font-size:.85rem;color:#6b7280;background:rgba(255,255,255,.65);backdrop-filter:blur(6px);border-top:1px solid #e5e7eb}
  /* ë ˆì´ì•„ì›ƒ */
  .container{flex:1;display:flex;align-items:center;justify-content:center;padding:16px 16px 84px}
  .view{display:none;animation:.35s ease both fadeInUp}
  .view.active{display:block}
  @keyframes fadeInUp{from{opacity:0;transform:translate3d(0,10px,0)}to{opacity:1;transform:none}}
  /* ì¸íŠ¸ë¡œ */
  .intro{text-align:center; max-width:720px}
  .intro .title{margin:0; font-size:2rem; line-height:1.2}
  .intro .subtitle{margin:.25rem 0 0; font-size:1.15rem; color:#7b4b22}
  .plate{margin:24px auto 10px; width:min(70vw,260px); aspect-ratio:1/1; border-radius:24px; background:#fff;
         box-shadow:0 10px 24px rgba(0,0,0,.15); display:flex; align-items:center; justify-content:center}
  .gift{font-size:5rem; cursor:pointer; filter:drop-shadow(0 12px 20px rgba(0,0,0,.2))}
  .gift:active{transform:scale(.98)}
  .cta{display:inline-block; margin-top:10px; padding:10px 16px; border-radius:999px;
       background:linear-gradient(180deg, var(--accent), var(--accent-deep)); color:#fff; font-weight:700;
       box-shadow:0 6px 0 #ce5c14; cursor:pointer}
  .cta:active{transform:translateY(2px); box-shadow:0 4px 0 #ce5c14}
  /* ê²°ê³¼ ì¹´ë“œ */
  .card{background:var(--card); border:1px solid #f2e5cf; border-radius:16px; padding:16px;
        box-shadow:0 10px 32px rgba(0,0,0,.12); max-width:820px}
  .result-msg{font-size:1.05rem; line-height:1.6; margin:0}
  .scores{margin-top:14px; display:grid; gap:10px}
  .row{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:10px}
  .label{font-weight:700}
  .bar{height:12px; border-radius:999px; background:#fde7d5; position:relative; overflow:hidden}
  .bar>i{position:absolute; inset:0; width:var(--w,0%); background:linear-gradient(90deg,#ff9f5c,#ff7a2a);
         border-radius:999px; transition:width .8s cubic-bezier(.2,.8,.2,1)}
  .</h1>
    <div class="today" id="today"></div>
  </header>

  <div class="container">
    <!-- ì¸íŠ¸ë¡œ -->
    <section id="viewIntro" class="view intro active" aria-label="ì¸íŠ¸ë¡œ">
      <h2 class="title">ğŸ”®</h2>
      <p class="subtitle">ì„ ë¬¼ìƒìë¥¼ ì—´ë©´ ì˜¤ëŠ˜ì˜ ìš´ì„¸ê°€ ë‚˜ì™€ìš”!</p>
      <div class="plate" aria-hidden="true">
        <div id="giftBtn" class="gift" role="button" tabindex="0" aria-label="ì„ ë¬¼ìƒì ì—´ê¸°">ğŸ</div>
      </div>
      <div class="cta" id="openBtn">OPEN!</div>
    </section>

    <!-- ê²°ê³¼ -->
    <section id="viewResult" class="view" aria-label="ìš´ì„¸ ê²°ê³¼">
      <div class="card">
        <p class="result-msg" id="fortuneText">ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</p>
        <div class="scores" id="scores"></div>
        <div class="kw">
          <h3>í–‰ìš´ í‚¤ì›Œë“œ</h3>
          <div class="kwgrid" id="kwGrid"></div>
        </div>
        <div class="btns">
          <button id="againBtn" class="primary">ë‹¤ì‹œ ì—´ê¸°</button>
          <button id="shareBtn">ê³µìœ /ë³µì‚¬</button>
          <button id="linkBtn">ë§í¬</button>
        </div>
      </div>
    </section>
  </div>

  <footer>Â© multicampus arcade</footer>

<script>
"use strict";
const $ = s => document.querySelector(s);
$("#today").textContent = new Date().toLocaleDateString("ko-KR",{dateStyle:"medium"});
function LCG(seed){ let s=(seed>>>0); return ()=>((s=(s*1664525+1013904223)>>>0)/4294967296); }
function parseSeed(){ try{ const u=new URL(location.href); const s=u.searchParams.get('s'); if(s===null) return null; const n=Number(s); return Number.isFinite(n)? n:null; }catch(_){ return null } }
function setSeedInUrl(seed){ const u=new URL(location.href); u.searchParams.set('s', String(seed>>>0)); history.replaceState(null,'',u); return u.toString(); }

const BANK={love:["ë§ˆìŒì˜ ì˜¨ë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤.","ì†ë„ë¥¼ ë§ì¶”ë©´ ê±°ë¦¬ê°ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.","ì‘ì€ ë°°ë ¤ê°€ í° ì„¤ë ˜ìœ¼ë¡œ ëŒì•„ì˜µë‹ˆë‹¤.","ê³¼ê±°ì˜ ì˜¤í•´ê°€ í’€ë¦½ë‹ˆë‹¤.","ìƒˆ ì¸ì—°ì˜ ì‹ í˜¸ê°€ ë³´ì…ë‹ˆë‹¤.","ëŒ€í™”ì˜ ì§ˆì— ì§‘ì¤‘í•˜ì„¸ìš”.","ê¸°ëŒ€ì¹˜ë¥¼ ì¡°ìœ¨í•˜ë©´ ì•ˆì •ê°ì´ ìƒê¹ë‹ˆë‹¤.","ì‘ì€ ì•½ì†ì´ ì‹ ë¢°ë¥¼ ë§Œë“­ë‹ˆë‹¤."],
work:["í•µì‹¬ í•œ ê°€ì§€ë¥¼ ëë‚´ë©´ ì„±ê³¼ê°€ í½ë‹ˆë‹¤.","í˜‘ì—…ì˜ ìš´ì´ ë“¤ì–´ì˜µë‹ˆë‹¤.","ë°ì´í„°ì™€ ê·¼ê±°ê°€ ë‹¹ì‹ ì˜ í¸ì…ë‹ˆë‹¤.","ìš°ì„ ìˆœìœ„ë¥¼ ì •ë¦¬í•˜ë©´ ì†ë„ê°€ ë‚©ë‹ˆë‹¤.","ì§§ì€ ì§‘ì¤‘ì´ í° ì§„ì „ì„ ë§Œë“­ë‹ˆë‹¤.","ë§ˆê°ì„ ë¨¼ì € ë°•ìœ¼ë©´ íë¦„ì´ ì‚´ì•„ë‚©ë‹ˆë‹¤.","ë ˆí¼ëŸ°ìŠ¤ í™•ë³´ê°€ ì„¤ë“ë ¥ì„ ë°°ê°€í•©ë‹ˆë‹¤.","ì»¨í…ìŠ¤íŠ¸ ì „í™˜ì„ ì¤„ì´ë©´ íš¨ìœ¨ì´ ê¸‰ìƒìŠ¹!"],
money:["ì§€ì¶œ ê³„íšì´ ìˆ˜ìµì„ ì§€ì¼œì¤ë‹ˆë‹¤.","ì¶©ë™êµ¬ë§¤ë¥¼ í”¼í•˜ë©´ ë§Œì¡±ë„ê°€ ë†’ìŠµë‹ˆë‹¤.","ì‘ì€ ì ˆì•½ì´ í° ì—¬ìœ ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.","ê°€ê²© ë¹„êµê°€ ì˜¤ëŠ˜ì˜ í•„ìŠ¹ ì „ëµ.","ì˜ˆë¹„ë¹„ë¥¼ ì±™ê¸°ë©´ ë§ˆìŒì´ í¸í•©ë‹ˆë‹¤.","êµ¬ë…/ê³ ì •ë¹„ ì ê²€ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.","í° ë² íŒ…ë³´ë‹¨ ë¶„ì‚°ì´ ì•ˆì „í•©ë‹ˆë‹¤.","ê³„íšì  ê²°ì œê°€ ì‹ ìš©ë„ê¹Œì§€ ì§€ì¼œì¤ë‹ˆë‹¤."],
study:["ë¶„ì‚° í•™ìŠµì´ íš¨ìœ¨ì„ ë§Œë“­ë‹ˆë‹¤.","ê°œë… ìš”ì•½ì´ ì´í•´ë¥¼ ê¹Šê²Œ í•©ë‹ˆë‹¤.","ë°°ìš´ ê²ƒì„ ë°”ë¡œ ì ìš©í•´ ë³´ì„¸ìš”.","ë£¨í‹´ì„ ì§€í‚¤ë©´ ì†ë„ê°€ ë¶™ìŠµë‹ˆë‹¤.","ë©˜í† ì˜ í•œë§ˆë””ê°€ ë°©í–¥ì„ ì¡ì•„ì¤ë‹ˆë‹¤.","ë³µìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ì„±ì¥ì„ ê°€ì†í•©ë‹ˆë‹¤.","íƒ€ì´ë¨¸ í•™ìŠµì´ ì§‘ì¤‘ì„ ë•ìŠµë‹ˆë‹¤.","ì˜¤ë‹µ ë…¸íŠ¸ê°€ ì•½ì ì„ ê¸°íšŒë¡œ ë°”ê¿‰ë‹ˆë‹¤."],
health:["ìˆ˜ë©´ê³¼ ìˆ˜ë¶„ ë³´ì¶©ì´ ì»¨ë””ì…˜ì„ ì‚´ë¦½ë‹ˆë‹¤.","ê°€ë²¼ìš´ ìš´ë™ì´ í™œë ¥ì„ ì¤ë‹ˆë‹¤.","ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ëª¸ê³¼ ë§ˆìŒì„ í’€ì–´ì£¼ì„¸ìš”.","ë¬´ë¦¬ëŠ” ê¸ˆë¬¼, íšŒë³µì´ ê³§ í˜ì…ë‹ˆë‹¤.","ì†Œì‹ê³¼ ê·œì¹™ì´ ì˜¤ëŠ˜ì˜ í‚¤.","í–‡ë¹› 10ë¶„ì´ ê¸°ë¶„ì„ ë§‘ê²Œ í•©ë‹ˆë‹¤.","ìê·¹ì  ìŒì‹ë³´ë‹¤ ë‹´ë°±í•¨ì´ ì¢‹ì•„ìš”.","í˜¸í¡ì„ ê³ ë¥´ë©´ ê¸´ì¥ì´ í’€ë¦½ë‹ˆë‹¤."],
general:["ì‘ì€ ì‹œì‘ì´ í° ë³€í™”ë¥¼ ë¶€ë¦…ë‹ˆë‹¤.","íƒ€ì´ë°ì´ ì¢‹ìŠµë‹ˆë‹¤.","ì¤€ë¹„ëœ ê³³ì— í–‰ìš´ì´ ë¨¸ë­…ë‹ˆë‹¤.","ì²« ê±¸ìŒì´ ë°©í–¥ì„ ë§Œë“­ë‹ˆë‹¤.","ê¾¸ì¤€í•¨ì´ ì˜¤ëŠ˜ì˜ ì¹˜íŠ¸í‚¤.","ë§ˆìŒì˜ ì—¬ìœ ê°€ ì„ íƒì„ ë°ê²Œ í•©ë‹ˆë‹¤.","ê´€ì°°ì´ ì¸ì‚¬ì´íŠ¸ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.","ì •ë¦¬ì •ëˆì´ ìƒê°ê¹Œì§€ ë§‘ê²Œ í•©ë‹ˆë‹¤."]};
const DIRECTIONS=["ë™ìª½","ì„œìª½","ë‚¨ìª½","ë¶ìª½","ë™ë‚¨","ì„œë‚¨","ë™ë¶","ì„œë¶"];
const COLORS=["í•‘í¬","ì˜¤ë Œì§€","ë² ì´ì§€","ì˜ë¡œ","ê·¸ë¦°","ë¸”ë£¨","ë°”ì´ì˜¬ë ›","ë„¤ì´ë¹„"];
const FOODS=["ìˆœë‘ë¶€ì°Œê°œ","ê¹€ì¹˜ë³¶ìŒë°¥","íŒŒìŠ¤íƒ€","ë¹„ë¹”êµ­ìˆ˜","ë¶ˆê³ ê¸°","ì—°ì–´ì´ˆë°¥","ìš°ë™","ì¹˜í‚¨","íŒ¥ë¹™ìˆ˜","ë¼ë–¼"];
const ICON={num:"ğŸ“™",dir:"ğŸ§­",col:"ğŸ¨",food:"ğŸ²"};

const viewIntro=$("#viewIntro"), viewResult=$("#viewResult"), giftBtn=$("#giftBtn"), openBtn=$("#openBtn");
const fortuneText=$("#fortuneText"), scoresEl=$("#scores"), kwGrid=$("#kwGrid");
const againBtn=$("#againBtn"), shareBtn=$("#shareBtn"), linkBtn=$("#linkBtn"), homeBtn=$("#homeBtn");

function gen(seed){const r=seed!=null?LCG(seed):Math.random;const pick=a=>a[Math.floor(r()*a.length)];const n100=()=>Math.floor(60+r()*40);const scores={ê¸ˆì „:n100(),ì§ì¥:n100(),ì• ì •:n100(),í•™ì—…:n100(),ê±´ê°•:n100()};const top=Object.entries(scores).sort((a,b)=>b[1]-a[1])[0][0];let domain='general';if(top==='ì• ì •')domain='love';else if(top==='ì§ì¥')domain='work';else if(top==='ê¸ˆì „')domain='money';else if(top==='í•™ì—…')domain='study';else if(top==='ê±´ê°•')domain='health';return{scores,message:pick(BANK[domain]),lucky:{num:Math.floor(1+r()*99),dir:pick(DIRECTIONS),col:pick(COLORS),food:pick(FOODS)}};}
function renderScores(scores){scoresEl.innerHTML='';for(const [label,val] of Object.entries(scores)){const row=document.createElement('div');row.className='row';const l=document.createElement('div');l.className='label';l.textContent=label;const bar=document.createElement('div');bar.className='bar';const fill=document.createElement('i');fill.style.setProperty('--w',val+'%');bar.appendChild(fill);const v=document.createElement('div');v.className='val';v.textContent=`${val}ì `;row.append(l,bar,v);scoresEl.appendChild(row);setTimeout(()=>{fill.style.width=val+'%';},30);}}
function renderKeywords(kw){kwGrid.innerHTML='';[{ico:ICON.num,label:'ìˆ«ì',value:String(kw.num)},{ico:ICON.dir,label:'ë°©í–¥',value:kw.dir},{ico:ICON.col,label:'ì»¬ëŸ¬',value:kw.col},{ico:ICON.food,label:'ìŒì‹',value:kw.food}].forEach(r=>{const div=document.createElement('div');div.className='krow';div.innerHTML=`<div class="kico">${r.ico}</div><div class="klabel">${r.label}</div><div style="font-weight:800">${r.value}</div>`;kwGrid.appendChild(div);});}
function showResult(seed){const {scores,message,lucky}=gen(seed);fortuneText.textContent=message;renderScores(scores);renderKeywords(lucky);viewIntro.classList.remove('active');viewResult.classList.add('active');}
function openGift(){const seed=parseSeed()??(Date.now()>>>0);setSeedInUrl(seed);showResult(seed);}
giftBtn.addEventListener('click',openGift);openBtn.addEventListener('click',openGift);
againBtn.addEventListener('click',()=>{const seed=Date.now()>>>0;setSeedInUrl(seed);showResult(seed);});
shareBtn.addEventListener('click',async()=>{const text=`ğŸ ì˜¤ëŠ˜ì˜ ì„ ë¬¼ ìš´ì„¸ (${todayEl.textContent})\n- ${fortuneText.textContent}\n- ë§í¬: ${location.href}`;try{if(navigator.share){await navigator.share({title:"ì˜¤ëŠ˜ì˜ ì„ ë¬¼ ìš´ì„¸",text});}else{await navigator.clipboard.writeText(text);alert("ë³µì‚¬ ì™„ë£Œ! ì›í•˜ëŠ” ê³³ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.");}}catch(_){}}); 
linkBtn.addEventListener('click',async()=>{const url=location.href;try{await navigator.clipboard.writeText(url);alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');}catch{prompt('ì•„ë˜ ë§í¬ë¥¼ ë³µì‚¬í•˜ì„¸ìš”',url);}});
function goHome(){viewResult.classList.remove('active');viewIntro.classList.add('active');const u=new URL(location.href);u.searchParams.delete('s');history.replaceState(null,'',u);try{giftBtn.focus({preventScroll:true});}catch(_){ }window.scrollTo({top:0,behavior:'smooth'});}
homeBtn.addEventListener('click',goHome);
homeBtn.addEventListener('keydown',(e)=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();goHome();}});
</script>
</body>
</html>
