<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
<title>ì˜¤ëŠ˜ì˜ ì„ ë¬¼ ìš´ì„¸</title>
<meta name="theme-color" content="#FFE18A"/>
<meta name="description" content="ì„ ë¬¼ìƒìë¥¼ ì—´ë©´ ì˜¤ëŠ˜ì˜ ìš´ì„¸ê°€ í¼ì³ì§‘ë‹ˆë‹¤. ê¸ˆì „Â·ì§ì¥Â·ì• ì •Â·í•™ì—…Â·ê±´ê°• ì ìˆ˜ì™€ í–‰ìš´ í‚¤ì›Œë“œ ì œê³µ."/>
<style>
  :root{
    --grid:#f8d875; --bg:#ffe18a; --ink:#5a3b1a; --accent:#ff8a42; --accent-deep:#ea6a1b;
    --card:#fffaf0; --muted:#8b6d4e;
  }
  *{box-sizing:border-box}
  html:focus-within{scroll-behavior:smooth}
  body{
    margin:0; font-family:ui-sans-serif,system-ui,-apple-system,"Pretendard","Segoe UI",sans-serif;
    color:var(--ink); background:
      repeating-linear-gradient(0deg, var(--bg), var(--bg) 48px, var(--grid) 48px, var(--grid) 50px), var(--bg);
    min-height:100dvh;
  }
  /* í—¤ë”/í‘¸í„° */
  .site-header{position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:12px;justify-content:space-between;background:#fff;padding:10px 14px;border-bottom:1px solid #e5e7eb}
  .site-header .logo img{height:28px;max-width:140px;object-fit:contain}
  .site-header h1{margin:0;flex:1;text-align:center;font-size:1.05rem;color:#111}
  .site-header .today{font-size:.9rem;color:#444}
  footer{position:fixed;left:0;right:0;bottom:0;text-align:center;padding:10px 0;font-size:.85rem;color:#6b7280;background:rgba(255,255,255,.6);backdrop-filter:blur(6px);border-top:1px solid #e5e7eb}
  /* ë ˆì´ì•„ì›ƒ/ì „í™˜ */
  .container{max-width:860px;margin:0 auto;padding:16px 16px 80px}
  .view{display:none;animation:.35s ease both fadeInUp}
  .view.active{display:block}
  @keyframes fadeInUp{from{opacity:0;transform:translate3d(0,10px,0)}to{opacity:1;transform:none}}
  /* ì¸íŠ¸ë¡œ */
  .intro{display:grid;place-items:center;min-height:calc(100svh - 120px);text-align:center;gap:14px}
  .intro h2{margin:0;font-size:1.8rem;line-height:1.25;color:#7b4b22;text-shadow:0 2px 0 rgba(255,255,255,.35)}
  .intro p{margin:0;color:var(--muted)}
  .plate{margin-top:8px;width:min(78vw,360px);aspect-ratio:1/1;border-radius:24px;background:#fff;box-shadow:0 20px 40px rgba(0,0,0,.18) inset,0 24px 40px rgba(0,0,0,.18);display:grid;place-items:center}
  .touch-tip{margin-bottom:6px;font-size:1rem;color:#ad794e;opacity:.9}
  .gift{font-size:5rem;filter:drop-shadow(0 14px 22px rgba(0,0,0,.25));cursor:pointer}
  .gift:active{transform:scale(.98)}
  .cta{display:inline-block;margin-top:12px;padding:10px 16px;border-radius:999px;background:linear-gradient(180deg,var(--accent),var(--accent-deep));color:#fff;font-weight:700;box-shadow:0 6px 0 #ce5c14;user-select:none;cursor:pointer}
  .cta:active{transform:translateY(2px);box-shadow:0 4px 0 #ce5c14}
  /* ê²°ê³¼ ì¹´ë“œ */
  .card{background:var(--card);border:1px solid #f2e5cf;border-radius:16px;padding:16px;box-shadow:0 10px 32px rgba(0,0,0,.12)}
  .result-msg{font-size:1.05rem;line-height:1.6;margin:0}
  .scores{margin-top:14px;display:grid;gap:10px}
  .row{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px}
  .label{font-weight:700}
  .bar{height:12px;border-radius:999px;background:#fde7d5;position:relative;overflow:hidden}
  .bar>i{position:absolute;inset:0;width:var(--w,0%);background:linear-gradient(90deg,#ff9f5c,#ff7a2a);border-radius:999px;transition:width .8s cubic-bezier(.2,.8,.2,1)}
  .val{font-weight:800;color:#d8611c}
  .kw{margin-top:14px}
  .kw h3{margin:0 0 8px;font-size:1rem}
  .kwgrid{display:grid;gap:10px}
  .krow{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;padding:10px;border-radius:12px;background:#fff}
  .kico{font-size:1.15rem}
  .klabel{color:#7a5935}
  .btns{display:flex;gap:8px;flex-wrap:wrap;margin-top:14px}
  button{all:unset;cursor:pointer;padding:10px 14px;background:#fff;border:1px solid #e5e7eb;border-radius:10px;font-weight:700}
  button.primary{background:linear-gradient(180deg,#ff9f5c,#ff7a2a);color:#fff;border-color:#ff8a42}
  /* ì˜¤ë¥˜ ì˜¤ë²„ë ˆì´ */
  #errOverlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);color:#fff;z-index:9999;padding:16px;overflow:auto}
  #errOverlay pre{white-space:pre-wrap;word-break:break-word;background:rgba(255,255,255,.08);padding:12px;border-radius:8px}
</style>
</head>
<body>
  <!-- í—¤ë” -->
  <header class="site-header">
    <div class="logo">
      <img src="https://api.multicampus.com/ssf/v1/resource/public/images/FILBS202506207041267" alt="multicampus logo">
    </div>
    <h1>ì˜¤ëŠ˜ì˜ ì„ ë¬¼</h1>
    <div class="today" id="today"></div>
  </header>

  <div class="container">
    <!-- ì¸íŠ¸ë¡œ -->
    <section id="viewIntro" class="view intro active" aria-label="ì¸íŠ¸ë¡œ">
      <div>
        <h2 id="introTitle">í•™ìŠµìë‹˜, ì„ ë¬¼ìƒìë¥¼ ì—´ë©´</h2>
        <p>ìì„¸í•œ ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”.</p>
      </div>
      <div class="plate" aria-hidden="true">
        <div class="touch-tip">Touch!</div>
        <div id="giftBtn" class="gift" role="button" tabindex="0" aria-label="ì„ ë¬¼ìƒì ì—´ê¸°">ğŸ</div>
      </div>
      <div class="cta" id="cookieCta">ì—´ì–´ì£¼ì„¸ìš”!</div>
    </section>

    <!-- ê²°ê³¼ -->
    <section id="viewResult" class="view" aria-label="ìš´ì„¸ ê²°ê³¼">
      <div class="card">
        <p class="result-msg" id="fortuneText">ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</p>
        <div class="scores" id="scores"></div>
        <div class="kw">
          <h3>í–‰ìš´ í‚¤ì›Œë“œ</h3>
          <div class="kwgrid" id="kwGrid"></div>
        </div>
        <div class="btns">
          <button id="againBtn" class="primary">ë‹¤ì‹œ ì—´ê¸°</button>
          <button id="shareBtn">ê³µìœ /ë³µì‚¬</button>
          <button id="linkBtn">ë§í¬</button>
        </div>
      </div>
    </section>
  </div>

  <footer>Â© multicampus arcade</footer>

  <!-- ì˜¤ë¥˜ ì˜¤ë²„ë ˆì´ -->
  <div id="errOverlay" role="alert" aria-live="assertive">
    <h3>ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h3>
    <p>ë³µì‚¬/ë¶™ì—¬ë„£ê¸° ê³¼ì •ì—ì„œ ë¹ ì§„ ë¶€ë¶„ì´ ì—†ëŠ”ì§€ í™•ì¸í•´ ì£¼ì„¸ìš”.</p>
    <pre id="errText"></pre>
  </div>

<script>
"use strict";
/* ì˜¤ë¥˜í‘œì‹œ */
(function(){const show=(m)=>{try{const el=document.getElementById('errOverlay');const pre=document.getElementById('errText');if(!el||!pre)return;pre.textContent=String(m||'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜');el.style.display='block';}catch{}};window.addEventListener('error',(e)=>show(e.message+(e.filename?`\\nat ${e.filename}:${e.lineno}:${e.colno}`:'')));window.addEventListener('unhandledrejection',(e)=>show('Promise ì˜¤ë¥˜: '+(e.reason&&e.reason.message?e.reason.message:String(e.reason))));})();
const $=s=>document.querySelector(s);
/* ë‚ ì§œ */
function fmtDate(){try{return new Intl.DateTimeFormat('ko-KR',{dateStyle:'medium'}).format(new Date());}catch(_){const d=new Date();return `${d.getFullYear()}.${d.getMonth()+1}.${d.getDate()}`;}}
$('#today').textContent=fmtDate();
/* ë‚œìˆ˜/ì‹œë“œ */
function LCG(seed){let s=(seed>>>0);return()=>((s=(s*1664525+1013904223)>>>0)/4294967296);}
function parseSeed(){try{const u=new URL(location.href);const s=u.searchParams.get('s');if(s===null)return null;const n=Number(s);return Number.isFinite(n)?n:null;}catch(_){return null}}
function setSeedInUrl(seed){const u=new URL(location.href);u.searchParams.set('s',String(seed>>>0));history.replaceState(null,'',u);return u.toString();}
/* ë°ì´í„° */
const BANK={
  love:[
    "ë§ˆìŒì˜ ì˜¨ë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤. ì†”ì§í•œ í•œë§ˆë””ê°€ ë¶„ìœ„ê¸°ë¥¼ ë°”ê¿”ìš”.",
    "ì†ë„ë¥¼ ë§ì¶”ë©´ ê±°ë¦¬ê°ì´ ìì—°ìŠ¤ë ˆ ì¤„ì–´ë“­ë‹ˆë‹¤.",
    "ì‘ì€ ë°°ë ¤ê°€ í° ì„¤ë ˜ìœ¼ë¡œ ëŒì•„ì˜µë‹ˆë‹¤.",
    "ê³¼ê±°ì˜ ì˜¤í•´ê°€ í’€ë¦¬ë©° ê´€ê³„ê°€ ë§‘ì•„ì§‘ë‹ˆë‹¤.",
    "ìƒˆ ì¸ì—°ì˜ ì‹ í˜¸ê°€ ë³´ì…ë‹ˆë‹¤. ì—´ë¦° íƒœë„ê°€ í–‰ìš´."
  ],
  work:[
    "í•µì‹¬ í•œ ê°€ì§€ë¥¼ ëë‚´ë©´ ì„±ê³¼ê°€ í½ë‹ˆë‹¤.",
    "í˜‘ì—…ì˜ ìš´ì´ ë“¤ì–´ì™€ìš”. ë„ì›€ì„ ì£¼ê³ ë°›ì•„ ë³´ì„¸ìš”.",
    "ë°ì´í„°ì™€ ê·¼ê±°ê°€ ë‹¹ì‹ ì˜ í¸ì…ë‹ˆë‹¤.",
    "ìš°ì„ ìˆœìœ„ë¥¼ ì •ë¦¬í•˜ë©´ ì†ë„ê°€ ë‚©ë‹ˆë‹¤.",
    "ì§§ì€ ì§‘ì¤‘ì´ í° ì§„ì „ì„ ë§Œë“­ë‹ˆë‹¤."
  ],
  money:[
    "ì§€ì¶œ ê³„íšì´ ìˆ˜ìµì„ ì§€ì¼œì¤ë‹ˆë‹¤.",
    "ì¶©ë™êµ¬ë§¤ë¥¼ í”¼í•˜ë©´ ë§Œì¡±ë„ê°€ ë†’ìŠµë‹ˆë‹¤.",
    "ì‘ì€ ì ˆì•½ì´ í° ì—¬ìœ ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.",
    "ê°€ê²© ë¹„êµê°€ ì˜¤ëŠ˜ì˜ í•„ìŠ¹ ì „ëµ.",
    "ì˜ˆë¹„ë¹„ë¥¼ ì±™ê¸°ë©´ ë§ˆìŒì´ í¸í•´ì§‘ë‹ˆë‹¤."
  ],
  study:[
    "ë¶„ì‚° í•™ìŠµì´ íš¨ìœ¨ì„ ë§Œë“­ë‹ˆë‹¤â€”ì§§ê³  ìì£¼!",
    "ê°œë… ìš”ì•½ì´ ì´í•´ë¥¼ ê¹Šê²Œ í•©ë‹ˆë‹¤.",
    "ë°°ìš´ ê²ƒì„ ë°”ë¡œ ì ìš©í•´ ë³´ì„¸ìš”.",
    "ë£¨í‹´ì„ ì§€í‚¤ë©´ ì†ë„ê°€ ë¶™ìŠµë‹ˆë‹¤.",
    "ë©˜í† ì˜ í•œë§ˆë””ê°€ ë°©í–¥ì„ ì¡ì•„ì¤ë‹ˆë‹¤."
  ],
  health:[
    "ìˆ˜ë©´ê³¼ ìˆ˜ë¶„ ë³´ì¶©ì´ ì»¨ë””ì…˜ì„ ì‚´ë¦½ë‹ˆë‹¤.",
    "ê°€ë²¼ìš´ ìš´ë™ì´ í™œë ¥ì„ ì±„ì›Œì¤ë‹ˆë‹¤.",
    "ìŠ¤íŠ¸ë ˆì¹­ìœ¼ë¡œ ëª¸ê³¼ ë§ˆìŒì„ í’€ì–´ì£¼ì„¸ìš”.",
    "ë¬´ë¦¬ëŠ” ê¸ˆë¬¼, íšŒë³µì´ ê³§ í˜ì…ë‹ˆë‹¤.",
    "ì†Œì‹ê³¼ ê·œì¹™ì´ ì˜¤ëŠ˜ì˜ í‚¤."
  ],
  general:[
    "ì‘ì€ ì‹œì‘ì´ í° ë³€í™”ë¥¼ ë¶€ë¦…ë‹ˆë‹¤.",
    "íƒ€ì´ë°ì´ ì¢‹ìŠµë‹ˆë‹¤. ê°€ë³ê²Œ ì‹œë„í•´ ë³´ì„¸ìš”.",
    "ì¤€ë¹„ëœ ê³³ì— í–‰ìš´ì´ ë¨¸ë­…ë‹ˆë‹¤.",
    "ì²« ê±¸ìŒì´ ë°©í–¥ì„ ë§Œë“­ë‹ˆë‹¤.",
    "ê¾¸ì¤€í•¨ì´ ì˜¤ëŠ˜ì˜ ì¹˜íŠ¸í‚¤."
  ]
};
const DIRECTIONS=["ë™ìª½","ì„œìª½","ë‚¨ìª½","ë¶ìª½","ë™ë‚¨","ì„œë‚¨","ë™ë¶","ì„œë¶"];
const COLORS=["í”¼ì–´ë‚˜ëŠ” í•‘í¬","í˜¸ë°• ì˜¤ë Œì§€","ìˆœí•œ ë² ì´ì§€","ë°”ë‚˜ë‚˜ ì˜ë¡œ","ìˆ² ê·¸ë¦°","í•˜ëŠ˜ ë¸”ë£¨","ë³´ë¼ ë°”ì´ì˜¬ë ›","ì°¨ë¶„í•œ ë„¤ì´ë¹„"];
const FOODS=["ìˆœë‘ë¶€ì°Œê°œ","ê¹€ì¹˜ë³¶ìŒë°¥","íŒŒìŠ¤íƒ€","ë¹„ë¹”êµ­ìˆ˜","ë¶ˆê³ ê¸°","ì—°ì–´ì´ˆë°¥","ìš°ë™","ì¹˜í‚¨","íŒ¥ë¹™ìˆ˜","ë¼ë–¼"];
const ICON={num:"ğŸ“™",dir:"ğŸ§­",col:"ğŸ¨",food:"ğŸ²"};
/* ìš”ì†Œ */
const viewIntro=$("#viewIntro"), viewResult=$("#viewResult"), giftBtn=$("#giftBtn"), cookieCta=$("#cookieCta");
const againBtn=$("#againBtn"), fortuneText=$("#fortuneText"), scoresEl=$("#scores"), kwGrid=$("#kwGrid"), shareBtn=$("#shareBtn"), linkBtn=$("#linkBtn");
/* ìƒì„±ê¸° */
function gen(seed){
  const r = seed!=null ? LCG(seed) : Math.random;
  const pick = (arr)=> arr[Math.floor(r()*arr.length)];
  const n100 = ()=> Math.floor(60 + r()*40); // 60~100
  const scores={ ê¸ˆì „:n100(), ì§ì¥:n100(), ì• ì •:n100(), í•™ì—…:n100(), ê±´ê°•:n100() };
  const top = Object.entries(scores).sort((a,b)=>b[1]-a[1])[0][0];
  let domain='general';
  if(top==='ì• ì •')domain='love'; else if(top==='ì§ì¥')domain='work'; else if(top==='ê¸ˆì „')domain='money';
  else if(top==='í•™ì—…')domain='study'; else if(top==='ê±´ê°•')domain='health';
  const message=pick(BANK[domain]);
  const lucky={ num:Math.floor(1+r()*99), dir:pick(DIRECTIONS), col:pick(COLORS), food:pick(FOODS) };
  return {scores,message,lucky};
}
/* ë Œë” */
function renderScores(scores){
  scoresEl.innerHTML='';
  for(const [label,val] of Object.entries(scores)){
    const row=document.createElement('div'); row.className='row';
    const l=document.createElement('div'); l.className='label'; l.textContent=label;
    const bar=document.createElement('div'); bar.className='bar';
    const fill=document.createElement('i'); fill.style.setProperty('--w',val+'%'); bar.appendChild(fill);
    const v=document.createElement('div'); v.className='val'; v.textContent=`${val}ì `;
    row.append(l,bar,v); scoresEl.appendChild(row);
    setTimeout(()=>{ fill.style.width=val+'%'; },30);
  }
}
function renderKeywords(kw){
  kwGrid.innerHTML='';
  [{ico:ICON.num,label:'ìˆ«ì',value:String(kw.num)},
   {ico:ICON.dir,label:'ë°©í–¥',value:kw.dir},
   {ico:ICON.col,label:'ì»¬ëŸ¬',value:kw.col},
   {ico:ICON.food,label:'ìŒì‹',value:kw.food}]
  .forEach(r=>{
    const div=document.createElement('div'); div.className='krow';
    const i=document.createElement('div'); i.className='kico'; i.textContent=r.ico;
    const l=document.createElement('div'); l.className='klabel'; l.textContent=r.label;
    const v=document.createElement('div'); v.style.fontWeight='800'; v.textContent=r.value;
    div.append(i,l,v); kwGrid.appendChild(div);
  });
}
/* í™”ë©´ ì „í™˜ */
function showResult(seed){
  const {scores,message,lucky}=gen(seed);
  fortuneText.textContent=message;
  renderScores(scores);
  renderKeywords(lucky);
  viewIntro.classList.remove('active'); viewResult.classList.add('active');
  if(navigator.vibrate) try{ navigator.vibrate(8);}catch(_){}
}
/* ì´ë²¤íŠ¸ */
function openGift(){ const seed=parseSeed() ?? (Date.now()>>>0); setSeedInUrl(seed); showResult(seed); }
giftBtn.addEventListener('click',openGift);
giftBtn.addEventListener('keydown',(e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); openGift(); }});
cookieCta.addEventListener('click',openGift);
againBtn.addEventListener('click',()=>{ const seed=(Date.now()>>>0); setSeedInUrl(seed); showResult(seed); });
shareBtn.addEventListener('click',async ()=>{
  const text=`ğŸ ì˜¤ëŠ˜ì˜ ì„ ë¬¼ ìš´ì„¸ (${fmtDate()})\n- ${fortuneText.textContent}\n- ë§í¬: ${location.href}`;
  try{ if(navigator.share){ await navigator.share({title:"ì˜¤ëŠ˜ì˜ ì„ ë¬¼ ìš´ì„¸",text}); } else { await navigator.clipboard.writeText(text); alert('ë³µì‚¬ ì™„ë£Œ! ì›í•˜ëŠ” ê³³ì— ë¶™ì—¬ë„£ê¸° í•˜ì„¸ìš”.'); } }catch(_){}
});
linkBtn.addEventListener('click',async ()=>{ const url=location.href; try{ await navigator.clipboard.writeText(url); alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!'); } catch{ prompt('ì•„ë˜ ë§í¬ë¥¼ ë³µì‚¬í•˜ì„¸ìš”', url); }});
/* ì¸íŠ¸ë¡œ ì´ë¦„/ID (?n=ìš°ì„± / ?id=1729) */
(function(){ const u=new URL(location.href); const name=u.searchParams.get('n'); const id=u.searchParams.get('id'); const t=document.getElementById('introTitle');
  if(name){ t.textContent=`${name}ë‹˜, ì„ ë¬¼ìƒìë¥¼ ì—´ë©´`; } else if(id){ t.textContent=`${id}ë‹˜, ì„ ë¬¼ìƒìë¥¼ ì—´ë©´`; }
})();
</script>
</body>
</html>